<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kimi K2 模型测试 - 在线体验</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #f5576c);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(15px);
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header {
            background: linear-gradient(135deg, rgba(79, 172, 254, 0.9) 0%, rgba(0, 242, 254, 0.9) 100%);
            padding: 40px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g fill="%23ffffff" fill-opacity="0.1"><path d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/></g></g></svg>');
            animation: backgroundMove 20s linear infinite;
        }

        @keyframes backgroundMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(60px, 60px); }
        }

        .header-content {
            position: relative;
            z-index: 2;
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 15px;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            background: linear-gradient(45deg, #fff, #f0f8ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.95;
            margin-bottom: 25px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .model-badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.25);
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .status-banner {
            background: linear-gradient(90deg, #48bb78, #38a169);
            color: white;
            padding: 15px 20px;
            text-align: center;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .status-banner.error {
            background: linear-gradient(90deg, #f56565, #e53e3e);
        }

        .status-banner.warning {
            background: linear-gradient(90deg, #ed8936, #dd6b20);
        }

        .test-section {
            padding: 40px;
        }

        .connection-info {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .connection-info h3 {
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .connection-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .connection-link {
            background: rgba(255, 255, 255, 0.15);
            padding: 15px;
            border-radius: 10px;
            text-decoration: none;
            color: white;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .connection-link:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }

        .test-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .test-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(79, 172, 254, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .test-card:hover::before {
            left: 100%;
        }

        .test-card:hover {
            border-color: #4facfe;
            box-shadow: 0 15px 35px rgba(79, 172, 254, 0.15);
            transform: translateY(-3px);
        }

        .test-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
        }

        .test-icon {
            width: 28px;
            height: 28px;
            margin-right: 12px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            box-shadow: 0 4px 12px rgba(79, 172, 254, 0.3);
        }

        .test-description {
            color: #718096;
            margin-bottom: 25px;
            line-height: 1.6;
            font-size: 1rem;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 25px;
        }

        .quick-action-btn {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .quick-action-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1;
        }

        .quick-action-btn:hover::before {
            opacity: 0.1;
        }

        .quick-action-btn:hover {
            border-color: #4facfe;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(79, 172, 254, 0.2);
        }

        .quick-action-btn .icon {
            font-size: 2rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
        }

        .quick-action-btn .title {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 5px;
            position: relative;
            z-index: 2;
        }

        .quick-action-btn .desc {
            font-size: 0.9rem;
            color: #718096;
            position: relative;
            z-index: 2;
        }

        .direct-test {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin-top: 30px;
            text-align: center;
        }

        .direct-test h3 {
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .direct-test p {
            margin-bottom: 25px;
            opacity: 0.9;
            line-height: 1.6;
        }

        .test-link {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 15px 30px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }

        .test-link:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .feature-item .feature-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .feature-item .feature-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: white;
        }

        .feature-item .feature-desc {
            font-size: 0.9rem;
            opacity: 0.9;
            color: rgba(255, 255, 255, 0.9);
        }

        .server-info {
            background: rgba(0, 0, 0, 0.05);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            border-left: 4px solid #4facfe;
        }

        .server-info .info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: #4a5568;
        }

        .server-info .info-item:last-child {
            margin-bottom: 0;
        }

        .server-info .info-label {
            font-weight: 600;
        }

        .server-info .info-value {
            color: #2d3748;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }

            .header {
                padding: 30px 20px;
            }

            .header h1 {
                font-size: 2.2rem;
            }

            .test-section {
                padding: 25px;
            }

            .quick-actions {
                grid-template-columns: 1fr;
            }

            .connection-links {
                grid-template-columns: 1fr;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <h1>🤖 Kimi K2 模型测试中心</h1>
                <p>体验最新的Kimi K2人工智能模型 - 全面集成的AI工作台</p>
                <div class="model-badge">🚀 模型: kimi-k2-latest</div>
            </div>
        </div>

        <div class="status-banner">
            <span>🎉</span>
            <span>后端服务已启动，Kimi K2 模型运行正常！</span>
            <span>✨</span>
        </div>

        <div class="test-section">
            <!-- 连接信息 -->
            <div class="connection-info">
                <h3>🌐 服务连接信息</h3>
                <p>后端服务已成功启动，您可以通过以下链接访问Kimi K2测试功能</p>

                <div class="connection-links">
                    <a href="http://localhost:8001/test-kimi-k2.html" class="connection-link" target="_blank">
                        <h4>🎨 完整测试界面</h4>
                        <p>功能丰富的交互式测试页面</p>
                    </a>
                    <a href="http://localhost:8001/api/kimi-test/status" class="connection-link" target="_blank">
                        <h4>📊 API状态检查</h4>
                        <p>查看Kimi K2模型运行状态</p>
                    </a>
                </div㸮

                <div class="server-info">
                    <div class="info-item">
                        <span class="info-label">服务器地址:</span>
                        <span class="info-value">http://localhost:8001</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">默认模型:</span>
                        <span class="info-value">kimi-k2-latest</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">API端点:</span>
                        <span class="info-value">/api/kimi-test/chat</span>
                    </div>
                </div>
            </div>

            <!-- 快速开始 -->
            <div class="test-card">
                <div class="test-title">
                    <div class="test-icon">🚀</div>
                    快速开始测试
                </div>
                <div class="test-description">
                    点击下方按钮快速体验Kimi K2模型的不同功能，每个测试都会展示模型的特定能力。
                </div>

                <div class="quick-actions">
                    <div class="quick-action-btn" onclick="openTestPage()">
                        <div class="icon">🎨</div>
                        <div class="title">完整测试界面</div>
                        <div class="desc">功能丰富的交互式测试</div>
                    </div>

                    <div class="quick-action-btn" onclick="testQuickChat()">
                        <div class="icon">💬</div>
                        <div class="title">快速对话测试</div>
                        <div class="desc">立即体验对话功能</div>
                    </div>

                    <div class="quick-action-btn" onclick="testAPIStatus()">
                        <div class="icon">📊</div>
                        <div class="title">API状态检查</div>
                        <div class="desc">验证服务运行状态</div>
                    </div>

                    <div class="quick-action-btn" onclick="showTestInstructions()">
                        <div class="icon">📖</div>
                        <div class="title">测试说明</div>
                        <div class="desc">查看详细使用指南</div>
                    </div>
                </div>
            </div>

            <!-- 功能特色 -->
            <div class="test-card">
                <div class="test-title">
                    <div class="test-icon">✨</div>
                    Kimi K2 模型特色功能
                </div>
                <div class="test-description">
                    Kimi K2模型具备强大的语言理解和生成能力，支持多种应用场景。
                </div>

                <div class="features-grid">
                    <div class="feature-item">
                        <div class="feature-icon">🧠</div>
                        <div class="feature-title">智能对话</div>
                        <div class="feature-desc">自然流畅的多轮对话，理解上下文语境</div>
                    </div>

                    <div class="feature-item">
                        <div class="feature-icon">📝</div>
                        <div class="feature-title">文本处理</div>
                        <div class="feature-desc">文本润色、翻译、摘要等多种处理功能</div>
                    </div>

                    <div class="feature-item">
                        <div class="feature-icon">🎯</div>
                        <div class="feature-title">任务解析</div>
                        <div class="feature-desc">智能解析和拆分复杂任务描述</div>
                    </div>

                    <div class="feature-item">
                        <div class="feature-icon">🌐</div>
                        <div class="feature-title">多语言支持</div>
                        <div class="feature-desc">支持多种语言的理解和生成</div>
                    </div>
                </div>
            </div>

            <!-- 直接测试区域 -->
            <div class="direct-test">
                <h3>🎯 立即开始测试</h3>
                <p>点击下方链接，打开完整的Kimi K2测试界面，体验所有功能</p>

                <a href="http://localhost:8001/test-kimi-k2.html" class="test-link" target="_blank">
                    🚀 启动 Kimi K2 测试界面
                </a>

                <div style="margin-top: 20px; font-size: 0.9rem; opacity: 0.8;">
                    💡 提示：测试页面支持自定义API密钥、多种测试模式和实时结果展示
                </div>
            </div>

            <!-- 测试结果展示区域 -->
            <div id="testResult" class="test-card" style="display: none;">
                <div class="test-title">
                    <div class="test-icon">📊</div>
                    测试结果
                </div>
                <div id="resultContent"></div>
            </div>
        </div>
    </div>

    <script>
        // 测试功能
        function openTestPage() {
            window.open('http://localhost:8001/test-kimi-k2.html', '_blank');
        }

        async function testQuickChat() {
            const resultDiv = document.getElementById('testResult');
            const contentDiv = document.getElementById('resultContent');

            contentDiv.innerHTML = '🤖 正在测试Kimi K2对话功能...';
            resultDiv.style.display = 'block';
            resultDiv.scrollIntoView({ behavior: 'smooth' });

            try {
                const response = await fetch('http://localhost:8001/api/kimi-test/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        message: '你好！请用一句话介绍Kimi K2模型的特点。',
                        model: 'kimi-k2-latest'
                    })
                });

                const data = await response.json();

                contentDiv.innerHTML = `
                    <h4>✅ 测试成功！</h4>
                    <div style="background: #f0fff4; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <strong>Kimi K2 回复：</strong><br>
                        <p style="margin-top: 10px; line-height: 1.6;">${data.response}</p>
                    </div>
                    <div style="font-size: 0.9em; color: #718096;">
                        <strong>模型：</strong> ${data.model} |
                        <strong>耗时：</strong> ${data.response_time}ms |
                        <strong>Token：</strong> ${data.tokens || 'N/A'}
                    </div>
                `;

            } catch (error) {
                contentDiv.innerHTML = `
                    <h4>❌ 测试失败</h4>
                    <p style="color: #e53e3e;">${error.message}</p>
                    <p style="font-size: 0.9em; color: #718096;">请确保后端服务正在运行。</p>
                `;
            }
        }

        async function testAPIStatus() {
            const resultDiv = document.getElementById('testResult');
            const contentDiv = document.getElementById('resultContent');

            contentDiv.innerHTML = '📊 正在检查API状态...';
            resultDiv.style.display = 'block';
            resultDiv.scrollIntoView({ behavior: 'smooth' });

            try {
                const response = await fetch('http://localhost:8001/api/kimi-test/status');
                const data = await response.json();

                if (data.status === 'online') {
                    contentDiv.innerHTML = `
                        <h4>🟢 服务状态正常</h4>
                        <div style="background: #f0fff4; padding: 15px; border-radius: 8px; margin: 15px 0;">
                            <p>✅ ${data.message}</p>
                            <p><strong>当前模型：</strong> ${data.model}</p>
                        </div>
                    `;
                } else {
                    contentDiv.innerHTML = `
                        <h4>🔴 服务异常</h4>
                        <div style="background: #fff5f5; padding: 15px; border-radius: 8px; margin: 15px 0;">
                            <p>❌ ${data.message}</p>
                            <p><strong>错误信息：</strong> ${data.error}</p>
                        </div>
                    `;
                }

            } catch (error) {
                contentDiv.innerHTML = `
                    <h4>❌ 连接失败</h4>
                    <p style="color: #e53e3e;">无法连接到后端服务：${error.message}</p>
                    <p style="font-size: 0.9em; color: #718096;">请确保后端服务已启动并运行在 http://localhost:8001</p>
                `;
            }
        }

        function showTestInstructions() {
            const resultDiv = document.getElementById('testResult');
            const contentDiv = document.getElementById('resultContent');

            contentDiv.innerHTML = `
                <h4>📖 Kimi K2 测试使用说明</h4>
                <div style="background: #f7fafc; padding: 20px; border-radius: 8px; margin: 15px 0; line-height: 1.6;">
                    <h5>🔧 测试环境</h5>
                    <ul>
                        <li><strong>后端服务：</strong> 运行在 http://localhost:8001</li>
                        <li><strong>默认模型：</strong> kimi-k2-latest</li>
                        <li><strong>API端点：</strong> /api/kimi-test/chat</li>
                    </ul>

                    <h5>🎯 测试功能</h5>
                    <ul>
                        <li><strong>基础对话：</strong> 测试自然语言对话能力</li>
                        <li><strong>创意写作：</strong> 测试文本创作和想象力</li>
                        <li><strong>数据分析：</strong> 测试逻辑推理能力</li>
                        <li><strong>翻译功能：</strong> 测试多语言处理能力</li>
                        <li><strong>代码生成：</strong> 测试编程和技术能力</li>
                    </ul>

                    <h5>⚡ 快速开始</h5>
                    <ol>
                        <li>点击上方的